<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="../css/log.css" />
    <script type="text/JavaScript" src="../js/log.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    
    <button onclick="openLogInForm()" style="width:auto; display:none;">Login</button>

    <div  id="id01" class="modal" style="display: block;">
        <span onclick="document.getElementById('id01').style.display='none'" class="close2" title="Close Modal">&times;</span>
        <form name="myform" class="modal-content animate" onsubmit="return validateform()" action="../php/login.php" method="post">

            <div class="container">
                <h1>Login</h1>
                <hr>
                <label for="email"><b>Email</b></label>
                <input type="text" placeholder="Enter your email" name="email" required>

                <label for="psw"><b>Password</b></label>
                <input type="password" placeholder="Enter your password" name="psw" required>
                    
                <label>
                    <input type="checkbox" checked="checked" name="remember"> Remember me
                </label>
            </div>
            
            <div class="container" style="background-color:#f1f1f1">
                <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn2">Cancel</button>
                <button type="submit" class="signupbtn">Login</button>
            </div>

            <br><br><br>
            <p class="note">Don't have an account? <a href="signup.html" style="text-decoration: none;">Sign up now</a>!</p>
            <br>

        </form>
    </div>

    <script>
        function openLogInForm() {
            document.getElementById('id01').style.display = 'block';
            document.getElementById('loginButton').style.display = 'none';
        }
        

        function validateform() {
       
        var email = document.forms["myform"]["email"].value;
        var psw = document.forms["myform"]["psw"].value;
        

        // Perform validation checks
        
        if (email === "") {
            alert("Email address can't be blank");
            return false;
        }else if (!isValidEmail(email)) {
            alert("Email address should be in the format: example@domain.com");
            return false;
        }

        if (psw === "") {
            alert("Password can't be blank");
            return false;
        }else if (!isValidPassword(psw)) {
            alert("Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, and one digit");
            return false;
        }


        // If all checks pass, the form is considered valid
        return true;
        }

        

        // Function to validate email field
        function isValidEmail(email) {
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Regular expression for email validation

            return emailRegex.test(email);
        }

       

        function isValidPassword(password) {
            // Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, and one digit
            var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;

            return passwordRegex.test(password);
        }




    </script>


    
</body>

</html>